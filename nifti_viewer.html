<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Remy's NIfTI Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="papaya.css?build=1456">
    <script type="text/javascript" src="papaya.js?build=1456"></script>
    <style>
        body, html {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            display: flex; /* Flex container for sidebar and viewer */
            width: 95%; /* Responsive width */
            max-width: 1200px; /* Maximum width of the container */
            height: auto; /* Adjust height based on content */
            flex-direction: column; /* Stack vertically by default */
        }
        #papayaContainer {
            flex-grow: 1; /* Allows the viewer to expand as needed */
            width: 100%; /* Full width of its container */
            height: 60vh; /* Adjusted for mobile visibility */
        }
        .sidebar {
            width: 100%; /* Full width */
            padding: 20px;
            background: #ffffff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        .home-button {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border-radius: 5px;
            text-decoration: none;
            z-index: 10;
        }
        @media (min-width: 800px) {
            .container {
                flex-direction: row; /* Horizontal layout for wider screens */
                height: 85vh; /* Larger height for better visibility */
            }
            #papayaContainer {
                width: 75%; /* Larger portion for the viewer */
                height: 100%; /* Full height of the container */
            }
            .sidebar {
                width: 25%; /* Smaller portion for the sidebar */
                height: 100%; /* Full height of the container */
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="home-button">Home</a>
    <div class="container">
        <div id="papayaContainer" data-params="params"></div>
        <div class="sidebar">
            <p>This viewer is pre-loaded with the MNI 152 standard brain. Scroll, hover, or click on the brain to see different volumes and anatomical labels.</p>
            <p>You can also use the 'File' menu to 'Close All' and upload your own DICOM or NIfTI MRI image. If your MRI file is normalized to MNI space, the MNI template overlay will automatically add region labels to your image.</p>
        </div>
    </div>

    <script type="text/javascript">
        var params = {
            "images": ["images/mni152.nii.gz"],
            "worldSpace": true,
            "showControls": true
        };

        window.onload = function() {
            papaya.Container.resetViewer(0, params);
        };
    </script>
</body>
</html>
